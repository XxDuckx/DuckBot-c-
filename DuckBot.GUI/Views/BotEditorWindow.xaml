<Window x:Class="DuckBot.GUI.Views.BotEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Bot Editor" Height="640" Width="900"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
            <TextBlock Text="Name" VerticalAlignment="Center"/>
            <TextBox Text="{Binding Bot.Name, UpdateSourceTrigger=PropertyChanged}"
                     Width="220" Margin="8,0,0,0"/>
            <TextBlock Text="Game" Margin="16,0,0,0" VerticalAlignment="Center"/>
            <ComboBox Width="200" SelectedItem="{Binding Bot.Game}" Margin="8,0,0,0">
                <ComboBoxItem Content="West Game"/>
                <ComboBoxItem Content="State of Survival"/>
            </ComboBox>
        </StackPanel>

        <!-- Tabbed editor -->
        <TabControl Grid.Row="1">
            <!-- Scripts tab -->
            <TabItem Header="Scripts">
                <Grid Margin="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="3*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Script list -->
                    <Border Background="{StaticResource SurfaceBrush}" Padding="8">
                        <ListView x:Name="ScriptsList"
                                  ItemsSource="{Binding Bot.Scripts}"
                                  SelectionMode="Single">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <CheckBox IsChecked="{Binding Enabled}" Margin="0,0,6,0"/>
                                        <TextBox Text="{Binding Name}" Width="200" Margin="0,0,6,0"/>
                                        <Button Content="Vars" Width="70" Click="EditVars_Click"/>
                                    </StackPanel>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </Border>

                    <!-- Template side controls -->
                    <StackPanel Grid.Column="1" Margin="16,0,0,0">
                        <TextBlock Text="Templates" FontWeight="Bold" Margin="0,0,0,8"/>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <Button Content="Add Script" Width="120" Margin="0,0,8,0" Click="AddScript_Click"/>
                            <Button Content="Remove Selected" Width="150" Click="RemoveScript_Click"/>
                        </StackPanel>
                        <TextBlock Margin="0,12,0,0"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Text="(Future: per-script UI like your LSSBot settings)"/>
                    </StackPanel>
                </Grid>
            </TabItem>

            <!-- Emulators / Accounts tab -->
            <TabItem Header="Emulators / Accounts">
                <Grid Margin="12">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <TextBlock Text="Accounts (per bot, rotates if enabled later)" Margin="0,0,0,8"/>
                    <Border Grid.Row="1" Background="{StaticResource SurfaceBrush}" Padding="4">
                        <DataGrid ItemsSource="{Binding Bot.Accounts}"
                                  AutoGenerateColumns="False">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Username" Binding="{Binding Username}" Width="*"/>
                                <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="*"/>
                                <DataGridTextColumn Header="PIN" Binding="{Binding Pin}" Width="*"/>
                                <DataGridCheckBoxColumn Header="Active" Binding="{Binding Active}" Width="Auto"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </Grid>
            </TabItem>

            <!-- Other settings -->
            <TabItem Header="Other Settings">
                <StackPanel Margin="12">
                    <CheckBox Content="Ignore cooldowns"
                              IsChecked="{Binding Bot.Settings.IgnoreCooldowns}"
                              Margin="0,0,0,8"/>
                    <CheckBox Content="Stop instance after full loop"
                              IsChecked="{Binding Bot.Settings.StopInstanceAfterLoop}"/>
                </StackPanel>
            </TabItem>

            <!-- Mail Login -->
            <TabItem Header="Mail Login">
                <TextBlock Margin="12" Foreground="{StaticResource TextMutedBrush}" Text="(Stub — add mail account table later)"/>
            </TabItem>
        </TabControl>

        <!-- Bottom buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button Content="Save" Width="110" Margin="0,0,12,0" Click="Save_Click"
                    Style="{StaticResource AccentButtonStyle}"/>
            <Button Content="Cancel" Width="110" Click="Cancel_Click"/>
        </StackPanel>
    </Grid>
</Window>